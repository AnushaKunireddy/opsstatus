extends ./layout

block admin-header
	i.fa.fa-users
	= t('admin.sections.users')

block admin-actions
	button.btn.btn-teal#admin-users-new
		span
			i.fa.fa-plus
			= t('admin.users.create')

block admin-content
	#admin-users
		ul.admin-list
			each usr in users
				li(data-id=usr._id, data-email=usr.email, data-name=usr.name, data-provider=usr.provider)
					span
						case usr.provider
								when 'local': i.fa.fa-database
								when 'windowslive': i.fa.fa-windows.is-blue
								when 'google': i.fa.fa-google.is-blue
								when 'facebook': i.fa.fa-facebook.is-purple
								default: i.fa.fa-question-circle
						p
							strong= usr.name
							span= usr.email
					span
						span.btn-group
							a.btn.btn-blue(href='/admin/users/' + usr._id, title=t('actions.edit')).edit-action
								span
									i.fa.fa-edit
									= t('actions.edit')
							if !_.eq(usr.id, user.id)
								a.btn.btn-solo.btn-red(title=t('actions.delete')).delete-action
									span: i.fa.fa-trash-o
							else
								a.btn.btn-solo.btn-grey
									span: i.fa.fa-trash-o

	script(type='text/javascript').
		var pgLangData = {
			create_title: "#{t('admin.users.create_title')}",
			delete_title: _.template("!{t('admin.users.delete_title')}"),
			email: "#{t('admin.users.email')}",
			password: "#{t('admin.users.password_placeholder')}",
			name: "#{t('admin.users.name')}",
		};
